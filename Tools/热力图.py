import os
import numpy as np
from keras.models import load_model
from sklearn.model_selection import train_test_split
from matplotlib.font_manager import FontProperties
import matplotlib.pyplot as plt
from pretty_confusion_matrix import pp_matrix_from_data
from sklearn.metrics import roc_curve, auc
from itertools import cycle
from sklearn.metrics import precision_recall_curve, average_precision_score
accuracy=0.885
labels=['MRSA','A' ,'B', 'C', 'D', 'E', 'F', 'G','H', 'I']
y_test=[7 ,7 ,7 ,7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0, 0, 0, 0,
 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2 ,2, 2, 2, 2, 2, 2, 2, 2, 2,
 2 ,2 ,2 ,2 ,2, 2, 3, 3, 3, 3 ,3 ,3, 3 ,3, 3, 3, 3,3 ,3, 3, 3 ,3, 3, 3,3 ,3 ,4, 4, 4 ,4, 4 ,4 ,4 ,4 ,4, 4, 4,
 4 ,4 ,4, 4 ,4, 4, 4, 4, 4 ,5 ,5, 5, 5, 5 ,5 ,5, 5 ,5, 5,5 ,5, 5 ,5 ,5, 5 ,5 ,5, 5 ,5,6 ,6, 6,6 ,6 ,6 ,6, 6,
 6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
#RNN
# y_pred_classes=[7 ,6 ,7 ,7, 5, 7, 7, 7, 7, 7, 6, 7, 7, 4, 7, 7, 5, 7, 6, 6, 1, 0, 2, 1, 0, 1, 0, 0, 0, 1 ,0 ,0 ,0 ,0, 0, 0, 0,
#  0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 3, 1, 3, 1, 3, 1, 1, 2, 2, 2, 2, 2, 2 ,2, 2,1, 1, 2, 2, 2, 2, 2,
#  2 ,1 ,2 ,4 ,2, 4,5, 6, 3, 2 ,2 ,3, 2 ,3, 2, 3, 1,1 ,3, 3, 4 ,3, 3, 4,3 ,2 ,4, 3, 4 ,3, 4 ,3 ,4 ,3 ,4, 1, 1,
#  4 ,4 ,4, 4 ,4, 4, 4, 4, 4 ,5 ,5, 5, 5, 5 ,5 ,5, 5 ,5, 5,5 ,5, 5 ,5 ,5, 5 ,5 ,5, 5 ,5,6 ,6, 6,6 ,6 ,6 ,6, 6,
#  6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
# KNN
# y_pred_classes=[7 ,7 ,7 ,7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0, 0, 0, 0,
#  0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2 ,2, 2, 2, 2, 2, 2, 2, 2, 2,
#  2 ,2 ,2 ,2 ,2, 2, 3, 3, 3, 3 ,3 ,3, 3 ,3, 3, 3, 3,3 ,3, 3, 3 ,3, 3, 3,3 ,3 ,4, 4, 4 ,4, 4 ,4 ,4 ,4 ,4, 4, 4,
#  4 ,4 ,4, 4 ,4, 4, 4, 4, 4 ,5 ,5, 5, 6, 5 ,5 ,5, 5 ,5, 5,4 ,5,4 ,5 ,6, 5 ,6 ,5,3 ,4,6 ,6, 6,6 ,7 ,6 ,7, 6,
#  6 ,6 ,6 ,6 ,8 ,8 ,6 ,8 ,6 ,6 ,6 ,6,8,8,6,6,8,8,6,6,8,6,8,6,8,6,8,6,8,8,8,8,9,8,9,9,8,9,8,9,7,9,9,6,9,8,9,7,7,9,6,9]
# CNN
y_pred_classes=[7 ,7 ,7 ,7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0, 0, 0, 0,
 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2 ,2, 2, 2, 2, 2, 2, 2, 2, 2,
 2 ,2 ,2 ,2 ,2, 2, 3, 3, 3, 3 ,4 ,3, 4 ,3, 4, 3, 3,4 ,3, 3, 3 ,3, 4, 3,4 ,3 ,4, 3, 4 ,3, 4 ,3 ,4 ,4 ,5, 4, 5,
 4 ,3 ,4, 6 ,4, 4, 4, 4, 4 ,5 ,4, 5, 5, 7 ,5 ,3, 6 ,4, 5,4 ,5, 3 ,3 ,5, 2 ,5 ,2, 5 ,5,6 ,6, 6,6 ,6 ,6 ,6, 6,
 6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6 ,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]
# cmap = "PuRd"
# cmap = "YlGnBu"
# cmap = "twilight"
cmap = "Blues"
# cmap = "OrRd"
# cmap = "RdPu"
# cmap = "BuPu"
# cmap = "GnBu"
# cmap = "PuBu"
# cmap = "BuGn"
# cmap = "YlGn"
pp_matrix_from_data(y_test, y_pred_classes,columns=labels,lw=accuracy,cmap=cmap)

